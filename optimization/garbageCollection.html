<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        // case 1. 
        // { age : 30 }을 참조하는 갯수
        let me = { age : 30 }; // 참조 카운팅 1개
        let you = me;          // 참조 카운팅 2개
        me = null;             // 참조 카운팅 1개
        you = null;            // 참조 카운팅 0개

        // case 2.
        // x 참조 객체를 object1, y 참조 객체를 object2
        let x = {
            y: {
                z: 1
            }
        }
        let a = x; // object1 객체의 참조 카운트 : 2개 ( x, a )
        x = 1;     // object1 객체의 참조 카운트 : 1개 ( a )

        let b = a.y; // object2 객체의 참조 카운트 : 2개 ( b, y )
        a = 2; // object1 객체의 참조 카운트 : 0개  
        // garbageCollector가 가져가야하는데 b가 a 즉 object1의 y를 참조하고있어서 가져가지않음.
        // 이럴때 메모리 누수(leak)가 발생했다고 함.

    </script>
</body>
</html>